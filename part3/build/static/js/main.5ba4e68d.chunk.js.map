{"version":3,"sources":["components/Filter.js","components/Form.js","components/NumberList.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Filter","_ref","value","onChange","react_default","a","createElement","Form","nameOnChange","nameValue","numberOnChange","numberValue","handleSubmit","onSubmit","type","NumberList","persons","filterString","deleteHandler","filteredPersons","filter","person","name","toLowerCase","match","map","key","id","number","onClick","Notification","notification","setNotification","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","setTimeout","message","baseUrl","personsService","getAll","axios","get","then","response","data","create","newPerson","post","update","put","concat","remove","delete","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","newName","setNewName","_useState5","_useState6","newNumber","setNewNumber","_useState7","_useState8","setFilterString","_useState9","_useState10","useEffect","fetchedPersons","components_Notification","components_Filter","event","target","components_Form","preventDefault","foundName","find","foundNumber","window","confirm","catch","error","console","log","components_NumberList","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.5ba4e68d.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({value, onChange}) => {\n    return (\n\t    <div>\n\t    filter: \n\t    <input\n\tonChange={onChange}\n\tvalue={value}\n\t    />\n\t    </div>\n    )\n}\n\nexport default Filter\n","import React from 'react'\n\nconst Form = ({nameOnChange, nameValue, numberOnChange, numberValue, handleSubmit}) => {\n    return (\n\t    <div>\n\t    <h1>add a new</h1>\n\t    <form onSubmit={handleSubmit}>\n\t    <div>\n            name:\n\t    <input\n\tonChange={nameOnChange}\n\tvalue={nameValue}\n\t    />\n\t    </div>\n\t    <div>\n            number:\n\t    <input\n\tonChange={numberOnChange}\n\tvalue={numberValue}\n\t    />\n\t    </div>\n\t    <div>\n            <button type=\"submit\">add</button>\n\t    </div>\n\t    </form>\n            </div>\n    )\n}\n\nexport default Form\n","import React from 'react'\n\nconst NumberList = ({persons, filterString, deleteHandler}) => {\n    const filteredPersons = persons.filter(person =>\n\tperson.name.toLowerCase()\n\t    .match(filterString.toLowerCase()))\n    return (\n\t<div>\n\t    <h2>Numbers</h2>\n\t    <table>\n\t\t<tbody>\n\t\t    {filteredPersons\n\t\t     .map(person => <tr key={person.id}>\n\t\t\t\t\t<td>{person.name}:</td>\n\t\t\t\t\t<td>{person.number}</td>\n\t\t\t\t\t<td>\n\t\t\t\t\t    <button onClick={() => deleteHandler(persons, person.id)}>\n\t\t\t\t\t\tdelete\n\t\t\t\t\t    </button>\n\t\t\t\t\t</td>\n\t\t\t\t    </tr>)}\n\t\t</tbody>\n\t    </table>\n\t</div>\n    )\n}\n\nexport default NumberList\n\n","import React from 'react'\n\nconst Notification = ({notification, setNotification}) => {\n\n    const errorStyle = {\n\tcolor: \"red\",\n\tbackground: \"lightgrey\",\n\tfontSize: 20,\n\tborderStyle: \"solid\",\n\tborderRadius: 5,\n\tpadding: 10,\n\tmarginBottom: 10\n    }\n    \n    const msgStyle = {\n\tcolor: \"green\",\n\tbackground: \"lightgrey\",\n\tfontSize: 20,\n\tborderStyle: \"solid\",\n\tborderRadius: 5,\n\tpadding: 10,\n\tmarginBottom: 10\n    }\n\n\n    if (notification === null) {\n\treturn null\n    } else {\n\tconst style = notification.type === \"error\" ? errorStyle : msgStyle\n\tsetTimeout(() => {\n\t    setNotification(null)\n\t}, 3000)\n\treturn (\n\t\t<div style={style}>\n\t\t{notification.message}\n\t    </div>\n\t)\n    }\n}\n\nexport default Notification\n","import axios from 'axios'\n\nconst baseUrl = \"/api/persons\"\n\nconst getAll = () => axios.get(baseUrl).then(response => response.data)\nconst create = newPerson => axios.post(baseUrl, newPerson).then(response => response.data)\nconst update = (id, newPerson) => axios.put(`${baseUrl}/${id}`, newPerson).then(response => response.data)\nconst remove = id => axios.delete(`${baseUrl}/${id}`)\n\nconst personsService = {getAll, create, update, remove}\n\nexport default personsService\n","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport Form from './components/Form'\nimport NumberList from './components/NumberList'\nimport Notification from './components/Notification'\nimport personsService from './services/persons'\n\nconst App = () => {\n    const [persons, setPersons] = useState([])\n    const [newName, setNewName] = useState('')\n    const [newNumber, setNewNumber] = useState('')\n    const [filterString, setFilterString] = useState('')\n    const [notification, setNotification] = useState(null)    \n    useEffect(() => {\n\tpersonsService.getAll().then(fetchedPersons => setPersons(fetchedPersons))\n    }, [])\n\n    // TODO you still can add the same name twice if we add it from two different running clients\n    const handleSubmit = event => {\n\tevent.preventDefault()\n\tsetFilterString('')\n\tconst newPerson = {\n\t    name: newName,\n\t    number: newNumber,\n\t}\n\tlet foundName = persons.find(person => person.name.toLowerCase() === newPerson.name.toLowerCase())\n\tlet foundNumber = persons.find(person => person.number === newPerson.number)\n\n\t// TODO check if the overwritten phonenumber is not in the phonebook already\n\tif (foundName) {\n\t    if (window.confirm(`Do you want to overwrite ${foundName.name}'s number from\\n` +\n                               `${foundName.number} to ${newPerson.number}`)) {\n\t\tpersonsService.update(foundName.id, newPerson).then(() => {\n\t\t    personsService.getAll().then(fetchedPersons => setPersons(fetchedPersons))\n\t\t    setNotification({ message: `${newPerson.name}'s number is overwritten to ${newPerson.number}`,\n\t\t\t\t      type: `notification`\n\t\t\t\t    })\n\t\t    setNewName(\"\")\n\t\t    setNewNumber(\"\")\n\t\t})\n\t    }\n\t} else if (foundNumber){\n\t    setNotification({message: `${foundNumber.number} is already assigned to ${foundNumber.name}`,\n\t\t\t     type: `error`\n\t\t\t    })\n\t} else {\n\t    personsService.create(newPerson)\n\t\t.then(person => {\n\t\t    setPersons(persons.concat(person))\n\t\t    setNotification({ message: `${newPerson.name} added with number ${newPerson.number}`,\n\t\t\t\t      type: `notification`\n\t\t\t\t    })\n\t\t    setNewName(\"\")\n\t\t    setNewNumber(\"\")\n\t\t})\n\t\t.catch(error => {\n\t\t    console.log(error.response.data)\n\t\t    setNotification({ message: error.response.data.message,\n\t\t\t\t      type: `error`\n\t\t\t\t    })\n\t\t    setNewName(\"\")\n\t\t    setNewNumber(\"\")\n\t\t})\n\t}\n    }\n    \n    const deleteHandler = (persons, id) => {\n\t// TODO synchronize client side without refetching (like as we did at adding new number)\n\tconst person = persons.find(person => person.id === id)\n\tif (window.confirm(`Do you really want to delete ${person.name}`)) {\n\t    personsService.remove(id).then(() => {\n\t\tpersonsService.getAll().then(fetchedPersons => setPersons(fetchedPersons))\n\t\tsetNotification({message: `${person.name} is deleted`,\n\t\t\t\t type: `notification`\n\t\t\t\t})\n\t    }).catch(error => {\n\t\tsetNotification({message: `${person.name} was already deleted`,\n\t\t\t\t type: `error`\n\t\t\t\t})\n\t\tpersonsService.getAll().then(fetchedPersons => setPersons(fetchedPersons))\n\t    })\n\t}\n    }\n\n\n\n    return (\n\t    <div>\n\t    <h2>Phonebook</h2>\n\t    <Notification notification={notification} setNotification={setNotification} />\n\t    <Filter value={filterString} onChange={event => setFilterString(event.target.value)} />\n\t    <Form\n\tnameValue={newName}\n\tnameOnChange={event => setNewName(event.target.value)}\n\tnumberValue={newNumber}\n\tnumberOnChange={event => setNewNumber(event.target.value)}\n\thandleSubmit={handleSubmit}\n\t    />\n\t    <NumberList persons={persons} filterString={filterString} deleteHandler={deleteHandler} />\n\t    </div>\n    )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App.js'\n\n\nReactDOM.render(\n\t<App />,\n    document.getElementById('root')\n)\n"],"sourceRoot":""}